{% extends 'base.html' %}

{% block content %}
<h2>目標</h2>
{% if goal_list %}
    <div class="table-container" style="max-height: 300px; overflow-y: scroll;">
        <table class="table table-striped"> 
            <thead> 
                <tr>
                    <th style="width: 15%">你的目標</th>
                    <th style="width: 10%">類別</th>
                    <th style="width: 10%">難度</th>
                    <th style="width: 15%">預計完成日期</th>
                    <th style="width: 5%"></th>
                    <th style="width: 5%"></th>
                </tr>
            </thead>
            <tbody>
                {% for goal in goal_list%}
                <tr>
                    <td><h5>{{ goal.name }}:</h5>{{ goal.description }}</td>
                    <td>{{ goal.display_goal_type }}</td>
                    <td>{{ goal.display_difficulty }}</td>
                    <td>{{ goal.predicted_end_time|date:"j F Y"}}</td>
                    <td>
                        <a href="{% url 'goal_evaluation' goal.id %}" class="btn btn-success">評估</a>
                    </td>
                    <td>
                        <a href="{% url 'goal_delete_page' %}" class="btn btn-danger">刪除</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
<br>
{% endif %}

<h3>新增目標</h3>
<form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" class="btn btn-success">新增目標</button>
</form>
{% endblock %}
